<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matrix Tetris</title>
</head>

<body>
  <canvas id="bg-canvas"></canvas>
  <div id="app">
    <div id="game-container">
      <canvas id="game-canvas"></canvas>
    </div>
    <div class="hud">
      <div id="score-display">SCORE: 0</div>
      <div id="level-display">LEVEL: 1</div>
      <div id="lines-display">LINES: 0</div>
    </div>

    <!-- Start Screen / Game Over Overlay -->
    <div id="ui-overlay" class="ui-overlay interactive">
      <button id="info-btn" class="info-btn" aria-label="Game Instructions">?</button>
      <h1 id="title">TETRIS</h1>

      <div class="input-group">
        <input type="text" id="nickname-input" placeholder="ENTER CODENAME" maxlength="10">
      </div>

      <button id="start-btn">CLICK TO START</button>

      <div id="leaderboard" class="leaderboard hidden">
        <h3>TOP AGENTS</h3>
        <ul id="leaderboard-list">
          <!-- Scores will be injected here -->
          <li>LOADING...</li>
        </ul>
      </div>
    </div>

    <!-- Info Modal -->
    <div id="info-modal" class="modal hidden">
      <div class="modal-content">
        <span id="close-modal" class="close-btn">&times;</span>
        <h2>操作说明 (Controls)</h2>
        <div class="instructions-content">
          <p>← / → : 左右移动 (Move Left/Right)</p>
          <p>↑ : 旋转 (Rotate)</p>
          <p>↓ : 加速下落 (Soft Drop)</p>
          <p>Space : 直接落底 (Hard Drop)</p>
          <p>手机端: 点击屏幕下方按钮 (Use On-screen Buttons)</p>
        </div>
      </div>
    </div>

    <!-- Mobile Controls -->
    <div id="mobile-controls" class="mobile-controls hidden">
      <div class="control-row">
        <button id="btn-rotate" class="control-btn">↻</button>
      </div>
      <div class="control-row middle">
        <button id="btn-left" class="control-btn">←</button>
        <button id="btn-down" class="control-btn">↓</button>
        <button id="btn-right" class="control-btn">→</button>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>